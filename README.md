# Galil Schedule (Auto data.json)

אתר סטטי ללוח משחקים + תוצאות + טבלה (קריאה בלבד) שמתעדכן אוטומטית.

## מה חדש בגרסה הזו?
- הנתונים נטענים מ-`data.json`
- GitHub Actions מעדכן `data.json` פעם ביום (וגם אפשר להריץ ידנית)
- אפשר להרחיב את העדכון כדי למשוך תוצאות ממקור JSON חיצוני
- שיפור איחוד כפילויות: גם אם מקור אחד חסר שעה/יש מחזור שונה לאותו משחק

## העלאה
העלה את **כל התיקיות והקבצים** לשורש (root) של הריפו.

## חובה: לאפשר הרשאות ל-Action
בריפו:
Settings → Actions → General → Workflow permissions → **Read and write permissions** → Save

## הפעלה ידנית של העדכון
Actions → "Update data.json (daily)" → Run workflow

## חשוב: ניקוי קבצים ישנים (אם שדרגת מגרסה קודמת)
כדי למנוע מצב שה-Action מריץ סקריפט ישן / נשארים קבצי cache:

- למחוק מה-Root של הריפו קובץ ישן בשם `update_data.py` (אם קיים)
- למחוק תיקיות `__pycache__` וקבצים `*.pyc` (אם קיים)

לאחר השדרוג מומלץ להריץ ידנית את ה-Action פעם אחת כדי ש-`data.json` ייבנה מחדש ללא כפילויות.

---

## עדכון אוטומטי מ‑VOLE (כל המחזורים)

הפרויקט כולל GitHub Action שרץ פעם ביום ומעדכן את `data.json` ע"י משיכת התוצאות
מ‑VOLE (API ציבורי שהאתר עצמו משתמש בו).

- ברירת מחדל: מושך מהכתובת: `https://vole.one.co.il/league/1276`
- הסקריפט מושך את נתוני ה‑JSON של VOLE ומעדכן את **כל המחזורים** (עבר+עתיד).
- אם VOLE משנה את מבנה העמוד, ייתכן שהסקרייפר יצטרך התאמה.

אפשר לשלוט דרך משתני סביבה ב‑workflow:
- `VOLE_LEAGUE_ID` – מזהה הליגה (ברירת מחדל 1276).
- `MAX_ROUNDS` – כמה מחזורים לנסות למשוך (ברירת מחדל 60).
- `TZ` – אזור זמן (ברירת מחדל Asia/Jerusalem).

בדף האתר תוכל לראות סטטוס טעינה ו-`last_update` מתוך `data.json`.


## קריאה בלבד
- אין אפשרות לערוך/לעדכן תוצאות דרך האתר.
- הכל מגיע מ-`data.json`.

## עדכון פעם ביום *רק אם יש שינוי*
הסקריפט מעדכן את `data.json` רק כאשר רשימת המשחקים/התוצאות השתנתה בפועל.
אם אין שינוי — הקובץ לא נכתב, ולכן אין Commit יומי מיותר.
